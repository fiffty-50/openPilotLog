<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>openPilotLog: OPL::DbSummary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon_main.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openPilotLog
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_o_p_l_1_1_db_summary.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_o_p_l_1_1_db_summary-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OPL::DbSummary Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_o_p_l_1_1_db_summary.html" title="The DbSummary class collects summaries of entries and relevant data from the database.">DbSummary</a> class collects summaries of entries and relevant data from the database.  
 <a href="class_o_p_l_1_1_db_summary.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dbsummary_8h_source.html">dbsummary.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OPL::DbSummary:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_p_l_1_1_db_summary.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7f82bff756d73d1430fda9681fb4a66e"><td class="memItemLeft" align="right" valign="top">static const QMap&lt; <a class="el" href="namespace_o_p_l.html#a57a78a0fee920e2605638d9fea82b57e">DbSummaryKey</a>, QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_l_1_1_db_summary.html#a7f82bff756d73d1430fda9681fb4a66e">databaseSummary</a> (const QString &amp;db_path)</td></tr>
<tr class="memdesc:a7f82bff756d73d1430fda9681fb4a66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a summary of a database.  <a href="class_o_p_l_1_1_db_summary.html#a7f82bff756d73d1430fda9681fb4a66e">More...</a><br /></td></tr>
<tr class="separator:a7f82bff756d73d1430fda9681fb4a66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a8a01526b171f5376eae880a7fd148"><td class="memItemLeft" align="right" valign="top"><a id="a64a8a01526b171f5376eae880a7fd148"></a>
static const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_l_1_1_db_summary.html#a64a8a01526b171f5376eae880a7fd148">summaryString</a> (const QString &amp;db_path)</td></tr>
<tr class="memdesc:a64a8a01526b171f5376eae880a7fd148"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a short summary string of the database, containing total time and date of last flight. <br /></td></tr>
<tr class="separator:a64a8a01526b171f5376eae880a7fd148"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_o_p_l_1_1_db_summary.html" title="The DbSummary class collects summaries of entries and relevant data from the database.">DbSummary</a> class collects summaries of entries and relevant data from the database. </p>
<p>Summaries are used mainly in the <a class="el" href="class_backup_widget.html" title="The BackupWidget is the interface for the user to create and restore backups of the database.">BackupWidget</a> to give the user a quick overview about the contents of a database so they can decide which backup to delete/restore. This class is a helper class to avoid interfacing with the database directly. It uses a separate database connection in order to not interfere with the currently active database. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7f82bff756d73d1430fda9681fb4a66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f82bff756d73d1430fda9681fb4a66e">&#9670;&nbsp;</a></span>databaseSummary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QMap&lt; <a class="el" href="namespace_o_p_l.html#a57a78a0fee920e2605638d9fea82b57e">DbSummaryKey</a>, QString &gt; OPL::DbSummary::databaseSummary </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>db_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a summary of a database. </p>
<p>Creates a summary of the database giving a quick overview of the relevant contents. The function runs several specialised SQL queries to create a QHash&lt;DatabaseSummaryKey, QString&gt; containing Total Flight Time, Number of unique aircraft and pilots, as well as the date of last flight. Uses a temporary database connection separate from the default connection in order to not tamper with the currently active database connection. The full path to the database to be summarized has to be provided. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/database/<a class="el" href="dbsummary_8h_source.html">dbsummary.h</a></li>
<li>src/database/dbsummary.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_o_p_l.html">OPL</a></li><li class="navelem"><a class="el" href="class_o_p_l_1_1_db_summary.html">DbSummary</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
